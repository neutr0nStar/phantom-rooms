<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css"  href="css/discover.css">
    <title>Phantom Rooms</title>
</head>
<body class="dark">
    <%- include('./partials/theme-toggle.ejs') %>
    <header>
        <h1 class="page-title">Discover Rooms!</h1>
        <h2 class="phantom-title">Phantom Rooms.</h2>
    </header>
    <div class="form-section">
        <form id="userInfo" action="/discover-rooms" method="post">
            <div class="form-left">
                <h1>User Information</h1>
                <div class="name-field">
                    <span>Avatar Name: </span>
                <input type="text" id="avatarName" name="name">
                </div>
                <div class="cta-btns">
                 <a href="/"><div class="home-btn">back to home</div></a>
                 <input type="submit" value="search rooms" id="submitBtn">
                </div>
            </div>
            <div class="interests-list">
                <span>Interest Tags:</span>
                <div class="interests-block">
                    <div class="list-1">
                        <div class="box1">
                            <span>Sports</span>
                            <input type="checkbox" name="Sports" id="">
                        </div>
                        <div class="box2">
                            <span>Technology</span>
                            <input type="checkbox" name="Technology" id="">
                        </div>
                        <div class="box3">
                            <span>Space</span>
                            <input type="checkbox" name="Space" id="">
                        </div>
                    </div>
                    <div class="list-2">
                        <div class="box4">
                            <span>Movies</span>
                            <input type="checkbox" name="Movies" id="">
                        </div>
                        <div class="box5">
                            <span>Books</span>
                            <input type="checkbox" name="Books" id="">
                        </div>
                        <div class="box6">
                            <span>Gaming</span>
                            <input type="checkbox" name="Gaming" id="">
                        </div>
                    </div>
                </div>
                
            </div>
        </form>
    </div>
    <div class="room-cards-block">
        <% for(var j=0;j<rooms.length;j=j+1) {%>
            <% if((j+1)%2!=0) {%>
                <div class="room-card odd">
                    <h1><%= rooms[j].name %></h1>
                    <h3>By <%= rooms[j].createdBy %></h3>
                    <div class="tags-section">
                        <% for(var i=0;i<rooms[j].tags.length;i=i+1){ %>
                        <div class="tag">
                            <%= rooms[j].tags[i] %>
                        </div>
                        <%}%>
                    </div>
                    <!-- <a href="/rooms"><div><%= link %></div></a> -->
                    <button onclick="goToRoom('<%= rooms[j].name %>', '<%=rooms[j].createdBy%>')"><div class="join-room"><%= link %></div></button>
                </div>
            <%}%>
            <% if((j+1)%2===0) {%>
                <div class="room-card even">
                    <h1><%= rooms[j].name %></h1>
                    <h3>By <%= rooms[j].createdBy %></h3>
                    <div class="tags-section">
                        <% for(var i=0;i<rooms[j].tags.length;i=i+1){ %>
                        <div class="tag">
                            <%= rooms[j].tags[i] %>
                        </div>
                        <%}%>
                    </div>
                    <button onclick="goToRoom('<%= rooms[j].name %>', '<%=rooms[j].createdBy%>')"><div class="join-room"><%= link %></div></button>
                </div>
            <%}%>
        <%}%>
    </div>
    <div class="create-rooms-block">
        <div class="create-rooms-title">
            <h1>Not what you're looking for? Create your own room!</h1>
        </div>
        <div class="create-right">
            <form action="/discover-rooms" method="POST">
                <div class="form-left">
                    <div class="name-field">
                        <span>Avatar Name: </span>
                    <input type="text" name="name">
                    </div>
                    <div class="room-info">
                        <span>Topic: </span>
                    <input type="text" name="topic">
                    </div>
                    <div class="cta-btns">
                     <input type="submit" value="create room" style="transform: scale(1.2);">
                    </div>
                </div>
                <div class="interests-list">
                    <span>Related Tags:</span>
                    <div class="interests-block">
                        <div class="list-1">
                            <div class="box1">
                                <span>Sports</span>
                                <input type="checkbox" name="Sports" id="">
                            </div>
                            <div class="box2">
                                <span>Technology</span>
                                <input type="checkbox" name="Technology" id="">
                            </div>
                            <div class="box3">
                                <span>Space</span>
                                <input type="checkbox" name="Space" id="">
                            </div>
                        </div>
                        <div class="list-2">
                            <div class="box4">
                                <span>Movies</span>
                                <input type="checkbox" name="Movies" id="">
                            </div>
                            <div class="box5">
                                <span>Books</span>
                                <input type="checkbox" name="Books" id="">
                            </div>
                            <div class="box6">
                                <span>Gaming</span>
                                <input type="checkbox" name="Gaming" id="">
                            </div>
                        </div>
                    </div>
                    
                </div>
            </form>
        </div>
    </div>
    <script sefer src="js/searchRoom.js"></script>
    <script>
        function goToRoom(room, admin) {
            sessionStorage.setItem("roomName", room)
            sessionStorage.setItem("roomAdmin", admin)
            window.location.href="/rooms"
        }
    </script>
</body>
</html>